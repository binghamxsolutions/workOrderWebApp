{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet WorkOrdersComponent = class WorkOrdersComponent {\n  constructor(workOrderService, technicianService, router) {\n    this.workOrderService = workOrderService;\n    this.technicianService = technicianService;\n    this.router = router;\n  }\n  /**\r\n   * Calls the getWorkOrders, getTechnicians, and getStatusList\r\n   * functions after the page loads to ensure the call doesn't\r\n   * return empty due the the page load order\r\n  */\n  ngOnInit() {\n    this.getOpenWorkOrders();\n    this.getTechnicians();\n    this.getStatusList();\n  }\n  /**\r\n   * Generates a list of work orders from a table if records are available\r\n   */\n  getOpenWorkOrders() {\n    this.workOrderService.getFilteredWorkOrders(\"Open\").subscribe(workOrders => {\n      if (workOrders.length > 0) {\n        this.workOrders = workOrders;\n      }\n    });\n  }\n  /**\r\n   * Filters the workorder query by status value\r\n   */\n  getFilteredWorkOrders(status) {\n    this.workOrderService.getFilteredWorkOrders(status).subscribe(workOrders => {\n      if (workOrders.length > 0) {\n        this.workOrders = workOrders;\n      }\n    });\n  }\n  /**\r\n   * Re-routes the user to a detailed page for the\r\n   * selected work order\r\n   * @param id\r\n   */\n  orderDetail(id) {\n    this.router.navigateByUrl('orders/order/' + id);\n  }\n  /**\r\n   * Re-routes the user to a detailed page for the\r\n   * selected technician\r\n   * @param id\r\n   */\n  techDetail(id) {\n    this.router.navigateByUrl('techs/tech/' + id);\n  }\n  /**\r\n   * This method updates the workorder table by adding a new record\r\n   */\n  addWorkOrder() {} //TODO\n  /**\r\n   * Returns a list of available statuses present in the workOrders\r\n   * table\r\n   */\n  getStatusList() {\n    this.workOrderService.getStatuses().subscribe(statuses => {\n      if (statuses.length > 0) {\n        this.statuses = statuses;\n      }\n    });\n  }\n  /**\r\n   * Returns a list of technicians available from the\r\n   * technicians table\r\n   */\n  getTechnicians() {\n    this.technicianService.getTechnicians().subscribe(technicians => {\n      if (technicians.length > 0) {\n        this.technicians = technicians;\n      }\n    });\n  }\n};\nWorkOrdersComponent = __decorate([Component({\n  selector: 'app-work-orders',\n  templateUrl: './work-orders.component.html',\n  styleUrls: ['./work-orders.component.css']\n})], WorkOrdersComponent);\nexport { WorkOrdersComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YAAoBC,gBAAkC,EAAUC,iBAAoC,EAAUC,MAAc;IAAxG,qBAAgB,GAAhBF,gBAAgB;IAA4B,sBAAiB,GAAjBC,iBAAiB;IAA6B,WAAM,GAANC,MAAM;EAAY;EAEhI;;;;;EAKAC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;IACxB,IAAI,CAACC,cAAc,EAAE;IACrB,IAAI,CAACC,aAAa,EAAE;EACtB;EAEA;;;EAGAF,iBAAiB;IACf,IAAI,CAACJ,gBAAgB,CAACO,qBAAqB,CAAC,MAAM,CAAC,CAACC,SAAS,CAACC,UAAU,IAAG;MACzE,IAAIA,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACD,UAAU,GAAGA,UAAU;;IAEhC,CAAC,CAAC;EACJ;EAEA;;;EAGAF,qBAAqB,CAACI,MAAc;IAClC,IAAI,CAACX,gBAAgB,CAACO,qBAAqB,CAACI,MAAM,CAAC,CAACH,SAAS,CAACC,UAAU,IAAG;MACzE,IAAIA,UAAU,CAACC,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACD,UAAU,GAAGA,UAAU;;IAEhC,CAAC,CAAC;EACJ;EAEA;;;;;EAKAG,WAAW,CAACC,EAAU;IACpB,IAAI,CAACX,MAAM,CAACY,aAAa,CAAC,eAAe,GAAGD,EAAE,CAAC;EACjD;EAEA;;;;;EAKAE,UAAU,CAACF,EAAU;IACnB,IAAI,CAACX,MAAM,CAACY,aAAa,CAAC,aAAa,GAAGD,EAAE,CAAC;EAC/C;EAEA;;;EAGAG,YAAY,IAAW,CAAC,CAAC;EAEzB;;;;EAIAV,aAAa;IACX,IAAI,CAACN,gBAAgB,CAACiB,WAAW,EAAE,CAACT,SAAS,CAACU,QAAQ,IAAG;MACvD,IAAIA,QAAQ,CAACR,MAAM,GAAG,CAAC,EAAE;QACvB,IAAI,CAACQ,QAAQ,GAAGA,QAAQ;;IAE5B,CAAC,CAAC;EACJ;EAEA;;;;EAIAb,cAAc;IACZ,IAAI,CAACJ,iBAAiB,CAACI,cAAc,EAAE,CAACG,SAAS,CAACW,WAAW,IAAG;MAC9D,IAAIA,WAAW,CAACT,MAAM,GAAG,CAAC,EAAE;QAC1B,IAAI,CAACS,WAAW,GAAGA,WAAW;;IAElC,CAAC,CAAC;EACJ;CACD;AAvFYrB,mBAAmB,eAL/BD,SAAS,CAAC;EACTuB,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACWxB,mBAAmB,CAuF/B;SAvFYA,mBAAmB","names":["Component","WorkOrdersComponent","constructor","workOrderService","technicianService","router","ngOnInit","getOpenWorkOrders","getTechnicians","getStatusList","getFilteredWorkOrders","subscribe","workOrders","length","status","orderDetail","id","navigateByUrl","techDetail","addWorkOrder","getStatuses","statuses","technicians","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\bingh\\source\\repos\\WorkOrderProject\\WorkOrderProject\\ClientApp\\src\\app\\work-orders\\work-orders.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { WorkOrderService } from '../work-order.service';\nimport { WorkOrder } from '../work-order';\r\nimport { Router } from '@angular/router';\r\nimport { TechnicianService } from '../technician.service';\nimport { Technician } from '../technician';\n\n@Component({\n  selector: 'app-work-orders',\n  templateUrl: './work-orders.component.html',\n  styleUrls: ['./work-orders.component.css']\n})\nexport class WorkOrdersComponent implements OnInit {\n  statuses?: string[];\n  workOrders?: WorkOrder[];\n  technicians?: Technician[];\n  newOrder?: WorkOrder;\n\n  constructor(private workOrderService: WorkOrderService, private technicianService: TechnicianService, private router: Router) { }\n\n  /**\n   * Calls the getWorkOrders, getTechnicians, and getStatusList\n   * functions after the page loads to ensure the call doesn't\n   * return empty due the the page load order\n  */\n  ngOnInit(): void {\n    this.getOpenWorkOrders();\n    this.getTechnicians();\n    this.getStatusList();\n  }\n\n  /** \n   * Generates a list of work orders from a table if records are available\r\n   */\n  getOpenWorkOrders(): void {\n    this.workOrderService.getFilteredWorkOrders(\"Open\").subscribe(workOrders => {\n      if (workOrders.length > 0) { \n        this.workOrders = workOrders;\r\n      }\n    });\n  }\n\n  /**\n   * Filters the workorder query by status value\r\n   */\n  getFilteredWorkOrders(status: string) {\r\n    this.workOrderService.getFilteredWorkOrders(status).subscribe(workOrders => {\n      if (workOrders.length > 0) {\n        this.workOrders = workOrders;\r\n      }\n    });\n  }\n\n  /**\r\n   * Re-routes the user to a detailed page for the\n   * selected work order\n   * @param id\r\n   */\r\n  orderDetail(id: number) {\n    this.router.navigateByUrl('orders/order/' + id);\r\n  }\n\n  /**\r\n   * Re-routes the user to a detailed page for the\n   * selected technician\n   * @param id\r\n   */\n  techDetail(id: number) {\n    this.router.navigateByUrl('techs/tech/' + id);\r\n  }\n\n  /**\n   * This method updates the workorder table by adding a new record\n   */\n  addWorkOrder(): void { } //TODO\n\n  /**\n   * Returns a list of available statuses present in the workOrders\r\n   * table\r\n   */\n  getStatusList(): void {\n    this.workOrderService.getStatuses().subscribe(statuses => {\n      if (statuses.length > 0) {\n        this.statuses = statuses;\r\n      }\n    });\r\n  }\n\n  /**\n   * Returns a list of technicians available from the\r\n   * technicians table\r\n   */\n  getTechnicians(): void {\n    this.technicianService.getTechnicians().subscribe(technicians => {\n      if (technicians.length > 0) {\n        this.technicians = technicians;\r\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}